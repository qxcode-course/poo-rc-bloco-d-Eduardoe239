{
    "patches": [
        {
            "label": "2025-11-29_17-40-57",
            "content": "@@ -4,8 +4,9 @@\n ss Fone:\n+%0A\n",
            "lines": "1"
        },
        {
            "label": "2025-11-29_17-49-51",
            "content": "@@ -8,94 +8,4 @@\n one:\n-%0A    def __init__(self, id, number):%0A        self._id = id%0A        self._number = number%0A%0A\n",
            "lines": "1"
        },
        {
            "label": "2025-11-29_17-53-57",
            "content": "@@ -98,168 +98,4 @@\n er%0A%0A\n-    def isValid(self):%0A        valid = %220123456789.-%22%0A        for c in self._number:%0A            if c not in valid:%0A                return False%0A        return True\n",
            "lines": "5"
        },
        {
            "label": "2025-11-29_18-33-42",
            "content": "@@ -262,173 +262,4 @@\n True\n-%0A%0A    def getId(self):%0A        return self._id%0A%0A    def getNumber(self):%0A        return self._number%0A%0A    def __str__(self):%0A        return self._id + %22:%22 + self._number\n",
            "lines": "11"
        },
        {
            "label": "2025-11-29_18-59-06",
            "content": "@@ -431,2891 +431,4 @@\n mber\n-%0A%0A%0Aclass Contact:%0A    def __init__(self, name):%0A        self._name = name%0A        self._fones = %5B%5D%0A        self._favorited = False%0A%0A    def addFone(self, id, number):%0A        f = Fone(id, number)%0A        if not f.isValid():%0A            print(%22fail: invalid number%22)%0A            return%0A        self._fones.append(f)%0A%0A    def rmFone(self, index):%0A        if 0 %3C= index %3C len(self._fones):%0A            self._fones.pop(index)%0A        else:%0A            print(%22fail: invalid index%22)%0A%0A    def toggleFavorited(self):%0A        self._favorited = not self._favorited%0A%0A    def isFavorited(self):%0A        return self._favorited%0A%0A    def getFones(self):%0A        return self._fones%0A%0A    def getName(self):%0A        return self._name%0A%0A    def __str__(self):%0A        prefix = %22@ %22 if self._favorited else %22- %22%0A        out = prefix + self._name + %22 %5B%22%0A        for i, f in enumerate(self._fones):%0A            out += str(f)%0A            if i %3C len(self._fones) - 1:%0A                out += %22, %22%0A        out += %22%5D%22%0A        return out%0A%0A%0Aclass Agenda:%0A    def __init__(self):%0A        self._contacts = %5B%5D%0A%0A    def findPosByName(self, name):%0A        for i in range(len(self._contacts)):%0A            if self._contacts%5Bi%5D.getName() == name:%0A                return i%0A        return -1%0A%0A    def addContact(self, name, fones):%0A        pos = self.findPosByName(name)%0A        if pos == -1:%0A            c = Contact(name)%0A            for f in fones:%0A                c.addFone(f.getId(), f.getNumber())%0A            self._contacts.append(c)%0A        else:%0A            c = self._contacts%5Bpos%5D%0A            for f in fones:%0A                c.addFone(f.getId(), f.getNumber())%0A%0A        self._contacts.sort(key=lambda c: c.getName())%0A%0A    def getContact(self, name):%0A        pos = self.findPosByName(name)%0A        if pos == -1:%0A            return None%0A        return self._contacts%5Bpos%5D%0A%0A    def rmContact(self, name):%0A        pos = self.findPosByName(name)%0A        if pos != -1:%0A            self._contacts.pop(pos)%0A%0A    def search(self, pattern):%0A        pattern = pattern.lower()%0A        result = %5B%5D%0A        for c in self._contacts:%0A            text = c.getName().lower()%0A            for f in c.getFones():%0A                text += %22 %22 + f.getId().lower() + %22 %22 + f.getNumber().lower()%0A            if pattern in text:%0A                result.append(c)%0A        return result%0A%0A    def getFavorited(self):%0A        favs = %5B%5D%0A        for c in self._contacts:%0A            if c.isFavorited():%0A                favs.append(c)%0A        return favs%0A%0A    def __str__(self):%0A        out = %22%22%0A        for i, c in enumerate(self._contacts):%0A            out += str(c)%0A            if i %3C len(self._contacts) - 1:%0A                out += %22%5Cn%22%0A        return out%0A%0A%0Adef parse_fones(tokens):%0A    fones = %5B%5D%0A    for tok in tokens:%0A        if %22:%22 in tok:%0A            id, number = tok.split(%22:%22, 1)%0A            fones.append(Fone(id, number))%0A    return fones%0A%0A\n",
            "lines": "20"
        },
        {
            "label": "2025-11-29_23-40-07",
            "content": "@@ -3318,1326 +3318,4 @@\n es%0A%0A\n-%0Adef main():%0A    agenda = Agenda()%0A%0A    while True:%0A        line = input().strip()%0A        if line == %22%22:%0A            continue%0A%0A        parts = line.split()%0A        cmd = parts%5B0%5D%0A%0A        if cmd == %22$end%22:%0A            break%0A%0A        elif cmd == %22$add%22:%0A            name = parts%5B1%5D%0A            fones = parse_fones(parts%5B2:%5D)%0A            agenda.addContact(name, fones)%0A%0A        elif cmd == %22$show%22:%0A            print(agenda)%0A%0A        elif cmd == %22$rmFone%22:%0A            name = parts%5B1%5D%0A            index = int(parts%5B2%5D)%0A            c = agenda.getContact(name)%0A            if c is None:%0A                print(%22fail: contact not found%22)%0A            else:%0A                c.rmFone(index)%0A%0A        elif cmd == %22$rm%22:%0A            name = parts%5B1%5D%0A            agenda.rmContact(name)%0A%0A        elif cmd == %22$search%22:%0A            pattern = parts%5B1%5D%0A            res = agenda.search(pattern)%0A            for c in res:%0A                print(c)%0A%0A        elif cmd == %22$tfav%22:%0A            name = parts%5B1%5D%0A            c = agenda.getContact(name)%0A            if c is None:%0A                print(%22fail: contact not found%22)%0A            else:%0A                c.toggleFavorited()%0A%0A        elif cmd == %22$favs%22:%0A            for c in agenda.getFavorited():%0A                print(c)%0A%0A        else:%0A            print(%22fail: unknown command%22)%0A%0A%0Amain()%0A\n",
            "lines": "134"
        },
        {
            "label": "2025-11-29_23-41-00",
            "content": "@@ -0,0 +1,4643 @@\n+class Fone:%0A    def __init__(self, id, number):%0A        self._id = id%0A        self._number = number%0A%0A    def isValid(self):%0A        valid = %220123456789.-%22%0A        for c in self._number:%0A            if c not in valid:%0A                return False%0A        return True%0A%0A    def getId(self):%0A        return self._id%0A%0A    def getNumber(self):%0A        return self._number%0A%0A    def __str__(self):%0A        return self._id + %22:%22 + self._number%0A%0A%0Aclass Contact:%0A    def __init__(self, name):%0A        self._name = name%0A        self._fones = %5B%5D%0A        self._favorited = False%0A%0A    def addFone(self, id, number):%0A        f = Fone(id, number)%0A        if not f.isValid():%0A            print(%22fail: invalid number%22)%0A            return%0A        self._fones.append(f)%0A%0A    def rmFone(self, index):%0A        if 0 %3C= index %3C len(self._fones):%0A            self._fones.pop(index)%0A        else:%0A            print(%22fail: invalid index%22)%0A%0A    def toggleFavorited(self):%0A        self._favorited = not self._favorited%0A%0A    def isFavorited(self):%0A        return self._favorited%0A%0A    def getFones(self):%0A        return self._fones%0A%0A    def getName(self):%0A        return self._name%0A%0A    def __str__(self):%0A        prefix = %22@ %22 if self._favorited else %22- %22%0A        out = prefix + self._name + %22 %5B%22%0A        for i, f in enumerate(self._fones):%0A            out += str(f)%0A            if i %3C len(self._fones) - 1:%0A                out += %22, %22%0A        out += %22%5D%22%0A        return out%0A%0A%0Aclass Agenda:%0A    def __init__(self):%0A        self._contacts = %5B%5D%0A%0A    def findPosByName(self, name):%0A        for i in range(len(self._contacts)):%0A            if self._contacts%5Bi%5D.getName() == name:%0A                return i%0A        return -1%0A%0A    def addContact(self, name, fones):%0A        pos = self.findPosByName(name)%0A        if pos == -1:%0A            c = Contact(name)%0A            for f in fones:%0A                c.addFone(f.getId(), f.getNumber())%0A            self._contacts.append(c)%0A        else:%0A            c = self._contacts%5Bpos%5D%0A            for f in fones:%0A                c.addFone(f.getId(), f.getNumber())%0A%0A        self._contacts.sort(key=lambda c: c.getName())%0A%0A    def getContact(self, name):%0A        pos = self.findPosByName(name)%0A        if pos == -1:%0A            return None%0A        return self._contacts%5Bpos%5D%0A%0A    def rmContact(self, name):%0A        pos = self.findPosByName(name)%0A        if pos != -1:%0A            self._contacts.pop(pos)%0A%0A    def search(self, pattern):%0A        pattern = pattern.lower()%0A        result = %5B%5D%0A        for c in self._contacts:%0A            text = c.getName().lower()%0A            for f in c.getFones():%0A                text += %22 %22 + f.getId().lower() + %22 %22 + f.getNumber().lower()%0A            if pattern in text:%0A                result.append(c)%0A        return result%0A%0A    def getFavorited(self):%0A        favs = %5B%5D%0A        for c in self._contacts:%0A            if c.isFavorited():%0A                favs.append(c)%0A        return favs%0A%0A    def __str__(self):%0A        out = %22%22%0A        for i, c in enumerate(self._contacts):%0A            out += str(c)%0A            if i %3C len(self._contacts) - 1:%0A                out += %22%5Cn%22%0A        return out%0A%0A%0Adef parse_fones(tokens):%0A    fones = %5B%5D%0A    for tok in tokens:%0A        if %22:%22 in tok:%0A            id, number = tok.split(%22:%22, 1)%0A            fones.append(Fone(id, number))%0A    return fones%0A%0A%0Adef main():%0A    agenda = Agenda()%0A%0A    while True:%0A        line = input().strip()%0A        if line == %22%22:%0A            continue%0A%0A        parts = line.split()%0A        cmd = parts%5B0%5D%0A%0A        if cmd == %22$end%22:%0A            break%0A%0A        elif cmd == %22$add%22:%0A            name = parts%5B1%5D%0A            fones = parse_fones(parts%5B2:%5D)%0A            agenda.addContact(name, fones)%0A%0A        elif cmd == %22$show%22:%0A            print(agenda)%0A%0A        elif cmd == %22$rmFone%22:%0A            name = parts%5B1%5D%0A            index = int(parts%5B2%5D)%0A            c = agenda.getContact(name)%0A            if c is None:%0A                print(%22fail: contact not found%22)%0A            else:%0A                c.rmFone(index)%0A%0A        elif cmd == %22$rm%22:%0A            name = parts%5B1%5D%0A            agenda.rmContact(name)%0A%0A        elif cmd == %22$search%22:%0A            pattern = parts%5B1%5D%0A            res = agenda.search(pattern)%0A            for c in res:%0A                print(c)%0A%0A        elif cmd == %22$tfav%22:%0A            name = parts%5B1%5D%0A            c = agenda.getContact(name)%0A            if c is None:%0A                print(%22fail: contact not found%22)%0A            else:%0A                c.toggleFavorited()%0A%0A        elif cmd == %22$favs%22:%0A            for c in agenda.getFavorited():%0A                print(c)%0A%0A        else:%0A            print(%22fail: unknown command%22)%0A%0A%0Amain()%0A\n",
            "lines": "193"
        },
        {
            "label": "2025-11-29_23-41-58",
            "content": "@@ -1,444 +0,0 @@\n-class Fone:%0A    def __init__(self, id, number):%0A        self._id = id%0A        self._number = number%0A%0A    def isValid(self):%0A        valid_chars = %220123456789%22%0A        for c in self._number:%0A            if c not in valid_chars:%0A                return False%0A        return True%0A%0A    def getId(self):%0A        return self._id%0A%0A    def getNumber(self):%0A        return self._number%0A%0A    def __str__(self):%0A        return f%22%7Bself._id%7D:%7Bself._number%7D%22%0A\n",
            "lines": "0"
        },
        {
            "label": "2025-12-02_21-02-12",
            "content": "@@ -441,642 +441,4 @@\n r%7D%22%0A\n-%0A%0Aclass Contact:%0A    def __init__(self, name):%0A        self._name = name%0A        self._fones = %5B%5D%0A        self._favorited = False%0A%0A    def addFone(self, id, number):%0A        f = Fone(id, number)%0A        if f.isValid():%0A            self._fones.append(f)%0A        else:%0A            print(%22fail: invalid number%22)%0A%0A    def rmFone(self, index):%0A        if index %3C 0 or index %3E= len(self._fones):%0A            print(%22fail: invalid index%22)%0A        else:%0A            new_fones = %5B%5D%0A            for i in range(len(self._fones)):%0A                if i != index:%0A                    new_fones.append(self._fones%5Bi%5D)%0A            self._fones = new_fones%0A\n",
            "lines": "20"
        },
        {
            "label": "2025-12-02_22-50-06",
            "content": "@@ -1079,4598 +1079,4 @@\n nes%0A\n-    def toogleFavorited(self):%0A        self._favorited = not self._favorited%0A%0A    def isFavorited(self):%0A        return self._favorited%0A%0A    def getFones(self):%0A        return self._fones%0A%0A    def getName(self):%0A        return self._name%0A%0A    def setName(self, name):%0A        self._name = name%0A%0A    def __str__(self):%0A        prefix = %22@ %22 if self._favorited else %22- %22%0A        fones_str = %22, %22.join(str(f) for f in self._fones)%0A        return f%22%7Bprefix%7D%7Bself._name%7D %5B%7Bfones_str%7D%5D%22%0A%0A%0Aclass Agenda:%0A    def __init__(self):%0A        self._contacts = %5B%5D%0A%0A    def findPosByName(self, name):%0A        for i in range(len(self._contacts)):%0A            if self._contacts%5Bi%5D.getName() == name:%0A                return i%0A        return -1%0A%0A    def addContact(self, name, fones):%0A        pos = self.findPosByName(name)%0A        if pos != -1:%0A            contact = self._contacts%5Bpos%5D%0A            for id_, num in fones:%0A                contact.addFone(id_, num)%0A        else:%0A            contact = Contact(name)%0A            for id_, num in fones:%0A                contact.addFone(id_, num)%0A            self._contacts.append(contact)%0A            self._contacts = sorted(self._contacts, key=lambda c: c.getName())%0A%0A    def getContact(self, name):%0A        pos = self.findPosByName(name)%0A        if pos != -1:%0A            return self._contacts%5Bpos%5D%0A        return None%0A%0A    def rmContact(self, name):%0A        pos = self.findPosByName(name)%0A        if pos != -1:%0A            new_contacts = %5B%5D%0A            for i in range(len(self._contacts)):%0A                if i != pos:%0A                    new_contacts.append(self._contacts%5Bi%5D)%0A            self._contacts = new_contacts%0A%0A    def search(self, pattern):%0A        pat = pattern.lower()%0A        results = %5B%5D%0A        for c in self._contacts:%0A            if pat in str(c).lower():%0A                results.append(c)%0A        return results%0A%0A    def getFavorited(self):%0A        favs = %5B%5D%0A        for c in self._contacts:%0A            if c.isFavorited():%0A                favs.append(c)%0A        return favs%0A%0A    def getContacts(self):%0A        return self._contacts%0A%0A    def __str__(self):%0A        lines = %5B%5D%0A        for c in self._contacts:%0A            lines.append(str(c))%0A        return %22%5Cn%22.join(lines)%0A%0A%0Adef parse_fones(tokens):%0A    fones = %5B%5D%0A    for t in tokens:%0A        if ':' in t:%0A            parts = t.split(':', 1)%0A            if len(parts) == 2:%0A                id_ = parts%5B0%5D%0A                num = parts%5B1%5D%0A                fones.append((id_, num))%0A    return fones%0A%0A%0Adef main():%0A    agenda = Agenda()%0A    while True:%0A        try:%0A            line = input()%0A        except EOFError:%0A            break%0A        if not line:%0A            continue%0A        line = line.strip()%0A        if line == %22%22 or line.startswith(%22#%22):%0A            continue%0A        if line.startswith(%22add %22):%0A            parts = line.split()%0A            if len(parts) %3E= 2:%0A                name = parts%5B1%5D%0A                fones = parse_fones(parts%5B2:%5D)%0A                agenda.addContact(name, fones)%0A%0A        elif line == %22show%22:%0A            out = str(agenda)%0A            if out != %22%22:%0A                print(out)%0A%0A        elif line.startswith(%22rmFone %22):%0A            parts = line.split()%0A            if len(parts) == 3:%0A                name = parts%5B1%5D%0A                idx_s = parts%5B2%5D%0A                try:%0A                    idx = int(idx_s)%0A                except:%0A                    print(%22fail: invalid index%22)%0A                    continue%0A                c = agenda.getContact(name)%0A                if c is None:%0A                    print(%22fail: contact not found%22)%0A                else:%0A                    c.rmFone(idx)%0A%0A        elif line.startswith(%22rm %22):%0A            parts = line.split()%0A            if len(parts) == 2:%0A                name = parts%5B1%5D%0A                agenda.rmContact(name)%0A%0A        elif line.startswith(%22search %22):%0A            parts = line.split(maxsplit=1)%0A            if len(parts) == 2:%0A                pattern = parts%5B1%5D%0A                results = agenda.search(pattern)%0A                for r in results:%0A                    print(r)%0A%0A        elif line.startswith(%22tfav %22):%0A            parts = line.split()%0A            if len(parts) == 2:%0A                name = parts%5B1%5D%0A                c = agenda.getContact(name)%0A                if c is None:%0A                    print(%22fail: contact not found%22)%0A                else:%0A                    c.toogleFavorited()%0A%0A        elif line == %22favs%22:%0A            favs = agenda.getFavorited()%0A            for f in favs:%0A                print(f)%0A%0A        elif line == %22end%22:%0A            break%0A%0A        else:%0A            pass%0Amain()\n",
            "lines": "44"
        },
        {
            "label": "2025-12-03_22-15-00",
            "content": "@@ -129,53 +129,151 @@\n     \n-return all(c.isdigit() for c in self._number)\n+valid_chars = %220123456789%22%0A        for c in self._number:%0A            if c not in valid_chars:%0A                return False%0A        return True\n %0A%0A  \n@@ -880,50 +880,206 @@\n     \n-    return%0A        self._fones.pop(index)%0A\n+else:%0A            new_fones = %5B%5D%0A            for i in range(len(self._fones)):%0A                if i != index:%0A                    new_fones.append(self._fones%5Bi%5D)%0A            self._fones = new_fones\n %0A   \n@@ -1085,17 +1085,17 @@\n   def to\n-g\n+o\n gleFavor\n@@ -1314,16 +1314,72 @@\n ._name%0A%0A\n+    def setName(self, name):%0A        self._name = name%0A%0A\n     def \n@@ -1677,24 +1677,21 @@\n or i\n-, c\n  in \n-enumerate\n+range(len\n (sel\n@@ -1702,16 +1702,17 @@\n ontacts)\n+)\n :%0A      \n@@ -1720,17 +1720,33 @@\n      if \n-c\n+self._contacts%5Bi%5D\n .getName\n@@ -1917,16 +1917,19 @@\n     cont\n+act\n  = self.\n@@ -1990,32 +1990,35 @@\n             cont\n+act\n .addFone(id_, nu\n@@ -2050,16 +2050,19 @@\n     cont\n+act\n  = Conta\n@@ -2125,16 +2125,19 @@\n     cont\n+act\n .addFone\n@@ -2185,16 +2185,19 @@\n end(cont\n+act\n )%0A      \n@@ -2220,14 +2220,34 @@\n acts\n-.\n+ = \n sort\n-(\n+ed(self._contacts, \n key=\n@@ -2356,17 +2356,17 @@\n  if pos \n-=\n+!\n = -1:%0A  \n@@ -2386,47 +2386,47 @@\n urn \n-None%0A        return self._contacts%5Bpos%5D\n+self._contacts%5Bpos%5D%0A        return None\n %0A%0A  \n@@ -2531,31 +2531,204 @@\n     \n-self._contacts.pop(pos)\n+new_contacts = %5B%5D%0A            for i in range(len(self._contacts)):%0A                if i != pos:%0A                    new_contacts.append(self._contacts%5Bi%5D)%0A            self._contacts = new_contacts\n %0A%0A  \n@@ -2788,39 +2788,50 @@\n wer()%0A        re\n-turn %5Bc\n+sults = %5B%5D%0A       \n  for c in self._\n@@ -2834,24 +2834,37 @@\n lf._contacts\n+:%0A           \n  if pat in s\n@@ -2876,17 +2876,74 @@\n .lower()\n-%5D\n+:%0A                results.append(c)%0A        return results\n %0A%0A    de\n@@ -2976,17 +2976,25 @@\n     \n-return %5Bc\n+favs = %5B%5D%0A       \n  for\n@@ -3013,16 +3013,29 @@\n contacts\n+:%0A           \n  if c.is\n@@ -3049,88 +3049,257 @@\n ed()\n-%5D%0A%0A    def __str__(self):%0A        return %22%5Cn%22.join(str(c) for c in self._contact\n+:%0A                favs.append(c)%0A        return favs%0A%0A    def getContacts(self):%0A        return self._contacts%0A%0A    def __str__(self):%0A        lines = %5B%5D%0A        for c in self._contacts:%0A            lines.append(str(c))%0A        return %22%5Cn%22.join(line\n s)%0A%0A\n@@ -3371,19 +3371,19 @@\n      if \n-%22:%22\n+':'\n  in t:%0A \n@@ -3393,24 +3393,21 @@\n         \n-id_, num\n+parts\n  = t.spl\n@@ -3413,16 +3413,114 @@\n lit(\n-%22:%22\n+':'\n , 1)%0A\n+            if len(parts) == 2:%0A                id_ = parts%5B0%5D%0A                num = parts%5B1%5D%0A    \n     \n@@ -3704,17 +3704,16 @@\n   break%0A\n-%0A\n         \n@@ -3746,17 +3746,152 @@\n ontinue%0A\n-%0A\n+        line = line.strip()%0A        if line == %22%22 or line.startswith(%22#%22):%0A            continue%0A        if line.startswith(%22add %22):%0A    \n         \n@@ -3911,17 +3911,20 @@\n split()%0A\n-%0A\n+    \n         \n@@ -3930,27 +3930,29 @@\n  if \n+len(\n parts\n-%5B0%5D == %22add%22:%0A\n+) %3E= 2:%0A    \n     \n@@ -3967,32 +3967,36 @@\n name = parts%5B1%5D%0A\n+    \n             fone\n@@ -4030,24 +4030,28 @@\n             \n+  \n+  \n agenda.addCo\n@@ -4079,32 +4079,28 @@\n        elif \n-parts%5B0%5D\n+line\n  == %22show%22:%0A\n@@ -4115,58 +4115,190 @@\n     \n-print(agenda)%0A%0A        elif parts%5B0%5D == \n+out = str(agenda)%0A            if out != %22%22:%0A                print(out)%0A%0A        elif line.startswith(\n %22rmFone\n-%22\n+ %22)\n :%0A\n+            parts = line.split()%0A            if len(parts) == 3:%0A    \n     \n@@ -4313,32 +4313,36 @@\n name = parts%5B1%5D%0A\n+    \n             idx \n@@ -4344,23 +4344,21 @@\n  idx\n+_s\n  = \n-int(\n parts%5B2%5D\n )%0A  \n@@ -4353,18 +4353,181 @@\n parts%5B2%5D\n-)\n %0A\n+                try:%0A                    idx = int(idx_s)%0A                except:%0A                    print(%22fail: invalid index%22)%0A                    continue%0A    \n         \n@@ -4550,32 +4550,36 @@\n etContact(name)%0A\n+    \n             if c\n@@ -4596,32 +4596,36 @@\n                 \n+    \n print(%22fail: con\n@@ -4633,32 +4633,36 @@\n act not found%22)%0A\n+    \n             else\n@@ -4679,16 +4679,20 @@\n         \n+    \n c.rmFone\n@@ -4715,26 +4715,133 @@\n lif \n-parts%5B0%5D == %22rm%22:%0A\n+line.startswith(%22rm %22):%0A            parts = line.split()%0A            if len(parts) == 2:%0A                name = parts%5B1%5D%0A    \n     \n@@ -4865,24 +4865,20 @@\n Contact(\n-parts%5B1%5D\n+name\n )%0A%0A     \n@@ -4889,28 +4889,34 @@\n lif \n-parts%5B0%5D == \n+line.startswith(\n %22search\n-%22\n+ %22)\n :%0A  \n@@ -4927,21 +4927,19 @@\n       pa\n-ttern\n+rts\n  = line.\n@@ -4948,15 +4948,83 @@\n lit(\n-%22 %22, 1)\n+maxsplit=1)%0A            if len(parts) == 2:%0A                pattern = parts\n %5B1%5D%0A\n@@ -5031,32 +5031,37 @@\n             \n-for c in\n+    results =\n  agenda.sear\n@@ -5063,32 +5063,65 @@\n .search(pattern)\n+%0A                for r in results\n :%0A              \n@@ -5114,39 +5114,43 @@\n                 \n+ \n+   \n print(\n-c\n+r\n )%0A%0A        elif \n@@ -5153,28 +5153,135 @@\n lif \n-parts%5B0%5D == %22tfav%22:%0A\n+line.startswith(%22tfav %22):%0A            parts = line.split()%0A            if len(parts) == 2:%0A                name = parts%5B1%5D%0A    \n     \n@@ -5314,18 +5314,18 @@\n act(\n-parts%5B1%5D)%0A\n+name)%0A    \n     \n@@ -5338,32 +5338,36 @@\n   if c is None:%0A\n+    \n                 \n@@ -5391,32 +5391,36 @@\n act not found%22)%0A\n+    \n             else\n@@ -5441,13 +5441,17 @@\n     \n+    \n c.to\n-g\n+o\n gleF\n@@ -5471,32 +5471,28 @@\n        elif \n-parts%5B0%5D\n+line\n  == %22favs%22:%0A\n@@ -5504,23 +5504,21 @@\n        f\n-or c in\n+avs =\n  agenda.\n@@ -5523,32 +5523,58 @@\n a.getFavorited()\n+%0A            for f in favs\n :%0A              \n@@ -5581,17 +5581,17 @@\n   print(\n-c\n+f\n )%0A%0A     \n@@ -5598,24 +5598,20 @@\n    elif \n-parts%5B0%5D\n+line\n  == %22end\n@@ -5636,12 +5636,41 @@\n ak%0A%0A\n+        else:%0A            pass\n %0Amain()\n-%0A\n",
            "lines": "215"
        },
        {
            "label": "2025-12-03_22-16-32",
            "content": "@@ -1,4369 +1,1227 @@\n-class Fone:%0A    def __init__(self, id, number):%0A        self._id = id%0A        self._number = number%0A%0A    def isValid(self):%0A        return all(c.isdigit() for c in self._number)%0A%0A    def getId(self):%0A        return self._id%0A%0A    def getNumber(self):%0A        return self._number%0A%0A    def __str__(self):%0A        return f%22%7Bself._id%7D:%7Bself._number%7D%22%0A%0A%0Aclass Contact:%0A    def __init__(self, name):%0A        self._name = name%0A        self._fones = %5B%5D%0A        self._favorited = False%0A%0A    def addFone(self, id, number):%0A        f = Fone(id, number)%0A        if f.isValid():%0A            self._fones.append(f)%0A        else:%0A            print(%22fail: invalid number%22)%0A%0A    def rmFone(self, index):%0A        if index %3C 0 or index %3E= len(self._fones):%0A            print(%22fail: invalid index%22)%0A            return%0A        self._fones.pop(index)%0A%0A    def toggleFavorited(self):%0A        self._favorited = not self._favorited%0A%0A    def isFavorited(self):%0A        return self._favorited%0A%0A    def getFones(self):%0A        return self._fones%0A%0A    def getName(self):%0A        return self._name%0A%0A    def __str__(self):%0A        prefix = %22@ %22 if self._favorited else %22- %22%0A        fones_str = %22, %22.join(str(f) for f in self._fones)%0A        return f%22%7Bprefix%7D%7Bself._name%7D %5B%7Bfones_str%7D%5D%22%0A%0A%0Aclass Agenda:%0A    def __init__(self):%0A        self._contacts = %5B%5D%0A%0A    def findPosByName(self, name):%0A        for i, c in enumerate(self._contacts):%0A            if c.getName() == name:%0A                return i%0A        return -1%0A%0A    def addContact(self, name, fones):%0A        pos = self.findPosByName(name)%0A        if pos != -1:%0A            cont = self._contacts%5Bpos%5D%0A            for id_, num in fones:%0A                cont.addFone(id_, num)%0A        else:%0A            cont = Contact(name)%0A            for id_, num in fones:%0A                cont.addFone(id_, num)%0A            self._contacts.append(cont)%0A            self._contacts.sort(key=lambda c: c.getName())%0A%0A    def getContact(self, name):%0A        pos = self.findPosByName(name)%0A        if pos == -1:%0A            return None%0A        return self._contacts%5Bpos%5D%0A%0A    def rmContact(self, name):%0A        pos = self.findPosByName(name)%0A        if pos != -1:%0A            self._contacts.pop(pos)%0A%0A    def search(self, pattern):%0A        pat = pattern.lower()%0A        return %5Bc for c in self._contacts if pat in str(c).lower()%5D%0A%0A    def getFavorited(self):%0A        return %5Bc for c in self._contacts if c.isFavorited()%5D%0A%0A    def __str__(self):%0A        return %22%5Cn%22.join(str(c) for c in self._contacts)%0A%0A%0Adef parse_fones(tokens):%0A    fones = %5B%5D%0A    for t in tokens:%0A        if %22:%22 in t:%0A            id_, num = t.split(%22:%22, 1)%0A            fones.append((id_, num))%0A    return fones%0A%0A%0Adef main():%0A    agenda = Agenda()%0A    while True:%0A        try:%0A            line = input()%0A        except EOFError:%0A            break%0A%0A        if not line:%0A            continue%0A%0A        line = line.strip()%0A        if line == %22%22:%0A            continue%0A%0A        # imprime comando com $%0A        print(f%22$%7Bline%7D%22)%0A%0A        parts = line.split()%0A%0A        if parts%5B0%5D == %22add%22:%0A            name = parts%5B1%5D%0A            fones = parse_fones(parts%5B2:%5D)%0A            agenda.addContact(name, fones)%0A%0A        elif parts%5B0%5D == %22show%22:%0A            print(agenda)%0A%0A        elif parts%5B0%5D == %22rmFone%22:%0A            if len(parts) != 3:%0A                print(%22fail: invalid command%22)%0A                continue%0A            name = parts%5B1%5D%0A            try:%0A                idx = int(parts%5B2%5D)%0A            except:%0A                print(%22fail: invalid index%22)%0A                continue%0A%0A            c = agenda.getContact(name)%0A            if c is None:%0A                print(%22fail: contact not found%22)%0A            else:%0A                c.rmFone(idx)%0A%0A        elif parts%5B0%5D == %22rm%22:%0A            if len(parts) == 2:%0A                agenda.rmContact(parts%5B1%5D)%0A%0A        elif parts%5B0%5D == %22search%22:%0A            pad = line.split(%22 %22, 1)%5B1%5D%0A            results = agenda.search(pad)%0A            for r in results:%0A                print(r)%0A%0A        elif parts%5B0%5D == %22tfav%22:%0A            name = parts%5B1%5D%0A            c = agenda.getContact(name)%0A            if c is None:%0A                print(%22fail: contact not found%22)%0A            else:%0A                c.toogleFavorited()%0A%0A        elif parts%5B0%5D == %22favs%22:%0A            for c in agenda.getFavorited():%0A                print(c)%0A%0A        elif parts%5B0%5D == %22end%22:%0A            break%0A%0Amain()\n+@@ -2854,140 +2854,8 @@%0A ue%250A%250A%0A-        line = line.strip()%250A        if line == %2522%2522:%250A            continue%250A%250A        # imprime comando com $%250A        print(f%2522$%257Bline%257D%2522)%250A%250A%0A     %0A@@ -3124,112 +3124,8 @@%0A e%2522:%250A%0A-            if len(parts) != 3:%250A                print(%2522fail: invalid command%2522)%250A                continue%250A%0A     %0A@@ -3152,29 +3152,8 @@%0A %255B1%255D%250A%0A-            try:%250A    %0A     %0A@@ -3184,99 +3184,8 @@%0A 2%255D)%250A%0A-            except:%250A                print(%2522fail: invalid index%2522)%250A                continue%250A%250A%0A     %0A@@ -3379,44 +3379,8 @@%0A m%2522:%250A%0A-            if len(parts) == 2:%250A    %0A     %0A@@ -3464,17 +3464,21 @@%0A       pa%0A-d%0A+ttern%0A  = line.%0A@@ -3510,17 +3510,16 @@%0A     %0A-results =%0A+for c in%0A  age%0A@@ -3535,39 +3535,14 @@%0A h(pa%0A-d)%250A            for r in results%0A+ttern)%0A :%250A  %0A@@ -3561,17 +3561,17 @@%0A   print(%0A-r%0A+c%0A )%250A%250A     %0A@@ -3602,36 +3602,8 @@%0A v%2522:%250A%0A-            name = parts%255B1%255D%250A%0A     %0A@@ -3624,36 +3624,40 @@%0A enda.getContact(%0A-name%0A+parts%255B1%255D%0A )%250A            if%0A@@ -3755,17 +3755,17 @@%0A     c.to%0A-o%0A+g%0A gleFavor%0A@@ -3911,34 +3911,8 @@%0A d%2522:%250A%0A-            print(%2522$end%2522)%250A%0A     %0A@@ -3926,14 +3926,16 @@%0A  break%250A%250A%0A+%250A%0A main()%0A+%250A%0A\n",
            "lines": "63"
        },
        {
            "label": "2025-12-03_22-18-51",
            "content": "@@ -4185,17 +4185,17 @@\n     c.to\n-g\n+o\n gleFavor\n",
            "lines": "180"
        },
        {
            "label": "2025-12-03_22-20-25",
            "content": "class Fone:\n    def __init__(self, id, number):\n        self._id = id\n        self._number = number\n\n    def isValid(self):\n        return all(c.isdigit() for c in self._number)\n\n    def getId(self):\n        return self._id\n\n    def getNumber(self):\n        return self._number\n\n    def __str__(self):\n        return f\"{self._id}:{self._number}\"\n\n\nclass Contact:\n    def __init__(self, name):\n        self._name = name\n        self._fones = []\n        self._favorited = False\n\n    def addFone(self, id, number):\n        f = Fone(id, number)\n        if f.isValid():\n            self._fones.append(f)\n        else:\n            print(\"fail: invalid number\")\n\n    def rmFone(self, index):\n        if index < 0 or index >= len(self._fones):\n            print(\"fail: invalid index\")\n            return\n        self._fones.pop(index)\n\n    def toggleFavorited(self):\n        self._favorited = not self._favorited\n\n    def isFavorited(self):\n        return self._favorited\n\n    def getFones(self):\n        return self._fones\n\n    def getName(self):\n        return self._name\n\n    def __str__(self):\n        prefix = \"@ \" if self._favorited else \"- \"\n        fones_str = \", \".join(str(f) for f in self._fones)\n        return f\"{prefix}{self._name} [{fones_str}]\"\n\n\nclass Agenda:\n    def __init__(self):\n        self._contacts = []\n\n    def findPosByName(self, name):\n        for i, c in enumerate(self._contacts):\n            if c.getName() == name:\n                return i\n        return -1\n\n    def addContact(self, name, fones):\n        pos = self.findPosByName(name)\n        if pos != -1:\n            cont = self._contacts[pos]\n            for id_, num in fones:\n                cont.addFone(id_, num)\n        else:\n            cont = Contact(name)\n            for id_, num in fones:\n                cont.addFone(id_, num)\n            self._contacts.append(cont)\n            self._contacts.sort(key=lambda c: c.getName())\n\n    def getContact(self, name):\n        pos = self.findPosByName(name)\n        if pos == -1:\n            return None\n        return self._contacts[pos]\n\n    def rmContact(self, name):\n        pos = self.findPosByName(name)\n        if pos != -1:\n            self._contacts.pop(pos)\n\n    def search(self, pattern):\n        pat = pattern.lower()\n        return [c for c in self._contacts if pat in str(c).lower()]\n\n    def getFavorited(self):\n        return [c for c in self._contacts if c.isFavorited()]\n\n    def __str__(self):\n        return \"\\n\".join(str(c) for c in self._contacts)\n\n\ndef parse_fones(tokens):\n    fones = []\n    for t in tokens:\n        if \":\" in t:\n            id_, num = t.split(\":\", 1)\n            fones.append((id_, num))\n    return fones\n\n\ndef main():\n    agenda = Agenda()\n    while True:\n        try:\n            line = input()\n        except EOFError:\n            break\n\n        if not line:\n            continue\n\n        line = line.strip()\n        if line == \"\":\n            continue\n\n        # imprime comando com $\n        print(f\"${line}\")\n\n        parts = line.split()\n\n        if parts[0] == \"add\":\n            name = parts[1]\n            fones = parse_fones(parts[2:])\n            agenda.addContact(name, fones)\n\n        elif parts[0] == \"show\":\n            print(agenda)\n\n        elif parts[0] == \"rmFone\":\n            if len(parts) != 3:\n                print(\"fail: invalid command\")\n                continue\n            name = parts[1]\n            try:\n                idx = int(parts[2])\n            except:\n                print(\"fail: invalid index\")\n                continue\n\n            c = agenda.getContact(name)\n            if c is None:\n                print(\"fail: contact not found\")\n            else:\n                c.rmFone(idx)\n\n        elif parts[0] == \"rm\":\n            if len(parts) == 2:\n                agenda.rmContact(parts[1])\n\n        elif parts[0] == \"search\":\n            pad = line.split(\" \", 1)[1]\n            results = agenda.search(pad)\n            for r in results:\n                print(r)\n\n        elif parts[0] == \"tfav\":\n            name = parts[1]\n            c = agenda.getContact(name)\n            if c is None:\n                print(\"fail: contact not found\")\n            else:\n                c.toggleFavorited()\n\n        elif parts[0] == \"favs\":\n            for c in agenda.getFavorited():\n                print(c)\n\n        elif parts[0] == \"end\":\n            break\n\nmain()",
            "lines": "180"
        }
    ]
}